[gd_scene load_steps=16 format=3 uid="uid://bjbqd01hopvn"]

[ext_resource type="PackedScene" uid="uid://cs6u0ayalv0co" path="res://models/splat_level.glb" id="1_2ejs3"]
[ext_resource type="Script" path="res://scripts/splat_level.gd" id="2_5go2e"]
[ext_resource type="PackedScene" uid="uid://drli4bt2e1otf" path="res://scenes/player.tscn" id="2_cy6o0"]
[ext_resource type="Shader" uid="uid://j77gsn6ljvqc" path="res://shaders/splat_shader.tres" id="3_3y5yl"]
[ext_resource type="Script" path="res://scripts/paint_drawer.gd" id="4_fj2ux"]
[ext_resource type="Script" path="res://scripts/brush.gd" id="5_xxwwn"]
[ext_resource type="Texture2D" uid="uid://dxval54818e41" path="res://textures/splat_texture.png" id="6_b7aeq"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0kkna"]
resource_name = "Material"
cull_mode = 2
vertex_color_use_as_albedo = true
albedo_color = Color(0.906332, 0.906332, 0.906332, 1)
roughness = 0.5

[sub_resource type="ArrayMesh" id="ArrayMesh_8cghm"]
_surfaces = [{
"aabb": AABB(-5.25, -1, -1, 6.25, 10, 8.33333),
"format": 4097,
"index_count": 66,
"index_data": PackedByteArray(0, 0, 3, 0, 1, 0, 0, 0, 2, 0, 3, 0, 2, 0, 7, 0, 3, 0, 2, 0, 6, 0, 7, 0, 6, 0, 5, 0, 7, 0, 6, 0, 4, 0, 5, 0, 5, 0, 8, 0, 1, 0, 5, 0, 9, 0, 8, 0, 7, 0, 1, 0, 3, 0, 7, 0, 5, 0, 1, 0, 4, 0, 9, 0, 5, 0, 1, 0, 8, 0, 0, 0, 13, 0, 16, 0, 17, 0, 13, 0, 12, 0, 16, 0, 17, 0, 14, 0, 15, 0, 17, 0, 16, 0, 14, 0, 15, 0, 13, 0, 17, 0, 15, 0, 11, 0, 13, 0, 11, 0, 12, 0, 13, 0, 11, 0, 10, 0, 12, 0, 15, 0, 10, 0, 11, 0, 15, 0, 14, 0, 10, 0),
"name": "Material",
"primitive": 3,
"vertex_count": 18,
"vertex_data": PackedByteArray(0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 191, 138, 136, 203, 63, 0, 0, 128, 63, 0, 0, 128, 191, 138, 136, 203, 63, 0, 0, 128, 63, 0, 0, 16, 65, 2, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 191, 2, 0, 128, 191, 0, 0, 128, 63, 0, 0, 16, 65, 172, 170, 234, 64, 0, 0, 128, 63, 0, 0, 128, 191, 172, 170, 234, 64, 0, 0, 168, 192, 0, 0, 16, 65, 2, 0, 128, 191, 0, 0, 168, 192, 0, 0, 128, 191, 2, 0, 128, 191, 0, 0, 168, 192, 0, 0, 16, 65, 172, 170, 234, 64, 0, 0, 168, 192, 0, 0, 128, 191, 172, 170, 234, 64)
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_kl8bf"]
resource_name = "splat_level_Cube_001"
_surfaces = [{
"aabb": AABB(-5.25, -1, -1, 6.25, 10, 8.33333),
"attribute_data": PackedByteArray(146, 170, 72, 63, 38, 60, 34, 63, 193, 176, 96, 63, 38, 60, 34, 63, 193, 176, 96, 63, 38, 60, 34, 63, 193, 176, 96, 63, 38, 60, 34, 63, 224, 30, 144, 61, 168, 0, 16, 62, 146, 170, 72, 63, 247, 53, 10, 63, 224, 30, 144, 61, 208, 30, 144, 61, 193, 176, 96, 63, 247, 53, 10, 63, 193, 176, 96, 63, 247, 53, 10, 63, 193, 176, 96, 63, 46, 11, 3, 63, 145, 170, 72, 63, 46, 11, 3, 63, 240, 182, 120, 63, 38, 60, 34, 63, 240, 182, 120, 63, 38, 60, 34, 63, 0, 128, 241, 56, 168, 0, 16, 62, 193, 176, 96, 63, 0, 10, 214, 62, 0, 96, 241, 56, 208, 30, 144, 61, 145, 170, 72, 63, 0, 10, 214, 62, 240, 182, 120, 63, 247, 53, 10, 63, 146, 170, 72, 63, 198, 82, 41, 63, 193, 176, 96, 63, 114, 72, 59, 63, 193, 176, 96, 63, 205, 33, 10, 63, 240, 182, 120, 63, 114, 72, 59, 63, 192, 240, 91, 63, 0, 155, 151, 62, 192, 240, 91, 63, 224, 250, 74, 63, 0, 90, 28, 63, 32, 100, 11, 63, 0, 90, 28, 63, 32, 100, 11, 63, 0, 90, 28, 63, 32, 100, 11, 63, 0, 23, 31, 62, 128, 248, 127, 63, 32, 243, 38, 63, 128, 248, 127, 63, 224, 184, 206, 62, 192, 97, 64, 63, 224, 184, 206, 62, 192, 97, 64, 63, 224, 184, 206, 62, 192, 97, 64, 63, 128, 20, 84, 62, 0, 61, 16, 62, 144, 50, 52, 63, 0, 61, 16, 62, 160, 55, 233, 62, 0, 76, 199, 62, 160, 55, 233, 62, 0, 76, 199, 62, 160, 55, 233, 62, 0, 76, 199, 62, 0, 0, 242, 56, 192, 25, 178, 62, 0, 0, 242, 56, 64, 58, 88, 63, 0, 121, 126, 62, 128, 163, 24, 63, 0, 121, 126, 62, 128, 163, 24, 63, 0, 121, 126, 62, 128, 163, 24, 63),
"format": 4119,
"index_count": 66,
"index_data": PackedByteArray(0, 0, 7, 0, 1, 0, 0, 0, 5, 0, 7, 0, 4, 0, 15, 0, 6, 0, 4, 0, 13, 0, 15, 0, 14, 0, 10, 0, 16, 0, 14, 0, 9, 0, 10, 0, 11, 0, 19, 0, 2, 0, 11, 0, 21, 0, 19, 0, 17, 0, 3, 0, 8, 0, 17, 0, 12, 0, 3, 0, 9, 0, 20, 0, 10, 0, 1, 0, 18, 0, 0, 0, 30, 0, 38, 0, 39, 0, 30, 0, 27, 0, 38, 0, 41, 0, 32, 0, 36, 0, 41, 0, 37, 0, 32, 0, 35, 0, 31, 0, 40, 0, 35, 0, 26, 0, 31, 0, 24, 0, 28, 0, 29, 0, 24, 0, 23, 0, 28, 0, 34, 0, 22, 0, 25, 0, 34, 0, 33, 0, 22, 0),
"material": SubResource("StandardMaterial3D_0kkna"),
"name": "Material",
"primitive": 3,
"vertex_count": 42,
"vertex_data": PackedByteArray(0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 255, 127, 255, 127, 255, 255, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 255, 127, 255, 127, 255, 255, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 63, 255, 127, 40, 157, 255, 255, 255, 191, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 63, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 191, 255, 255, 255, 255, 0, 0, 255, 191, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 255, 127, 255, 127, 255, 255, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 191, 255, 255, 255, 255, 0, 0, 255, 191, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 255, 127, 255, 127, 255, 255, 0, 0, 128, 191, 0, 0, 128, 63, 0, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 63, 255, 255, 255, 127, 255, 127, 0, 128, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 63, 255, 255, 255, 127, 255, 127, 0, 128, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 63, 255, 127, 40, 157, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 63, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 191, 255, 255, 255, 255, 0, 0, 255, 191, 0, 0, 128, 63, 0, 0, 128, 191, 0, 0, 128, 191, 255, 255, 255, 127, 255, 127, 0, 128, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 191, 255, 255, 255, 255, 0, 0, 255, 191, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 191, 255, 255, 255, 127, 255, 127, 0, 128, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 191, 0, 0, 128, 191, 0, 0, 128, 191, 138, 136, 203, 63, 0, 0, 255, 127, 255, 127, 255, 255, 0, 0, 128, 191, 0, 0, 128, 191, 138, 136, 203, 63, 255, 127, 40, 157, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 128, 191, 138, 136, 203, 63, 255, 255, 255, 127, 255, 127, 0, 128, 0, 0, 128, 63, 0, 0, 128, 191, 138, 136, 203, 63, 255, 127, 40, 157, 255, 255, 255, 191, 0, 0, 128, 63, 0, 0, 16, 65, 2, 0, 128, 191, 255, 127, 255, 127, 255, 191, 255, 223, 0, 0, 128, 63, 0, 0, 16, 65, 2, 0, 128, 191, 0, 0, 255, 127, 255, 191, 255, 255, 0, 0, 128, 63, 0, 0, 128, 191, 2, 0, 128, 191, 0, 0, 255, 127, 255, 191, 255, 255, 0, 0, 128, 63, 0, 0, 128, 191, 2, 0, 128, 191, 255, 127, 255, 127, 255, 191, 255, 223, 0, 0, 128, 63, 0, 0, 128, 191, 2, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 223, 0, 0, 128, 63, 0, 0, 16, 65, 172, 170, 234, 64, 255, 255, 255, 255, 255, 191, 255, 159, 0, 0, 128, 63, 0, 0, 16, 65, 172, 170, 234, 64, 0, 0, 255, 127, 255, 191, 255, 255, 0, 0, 128, 63, 0, 0, 128, 191, 172, 170, 234, 64, 0, 0, 255, 127, 255, 191, 255, 255, 0, 0, 128, 63, 0, 0, 128, 191, 172, 170, 234, 64, 255, 255, 255, 255, 255, 191, 255, 159, 0, 0, 128, 63, 0, 0, 128, 191, 172, 170, 234, 64, 255, 127, 255, 255, 255, 255, 255, 223, 0, 0, 168, 192, 0, 0, 16, 65, 2, 0, 128, 191, 255, 255, 255, 127, 255, 191, 0, 128, 0, 0, 168, 192, 0, 0, 16, 65, 2, 0, 128, 191, 255, 127, 255, 127, 255, 191, 255, 223, 0, 0, 168, 192, 0, 0, 128, 191, 2, 0, 128, 191, 255, 127, 255, 127, 255, 191, 255, 223, 0, 0, 168, 192, 0, 0, 128, 191, 2, 0, 128, 191, 255, 127, 255, 255, 255, 255, 255, 223, 0, 0, 168, 192, 0, 0, 128, 191, 2, 0, 128, 191, 255, 255, 255, 127, 255, 191, 0, 128, 0, 0, 168, 192, 0, 0, 16, 65, 172, 170, 234, 64, 255, 255, 255, 127, 255, 191, 0, 128, 0, 0, 168, 192, 0, 0, 16, 65, 172, 170, 234, 64, 255, 255, 255, 255, 255, 191, 255, 159, 0, 0, 168, 192, 0, 0, 128, 191, 172, 170, 234, 64, 255, 255, 255, 255, 255, 191, 255, 159, 0, 0, 168, 192, 0, 0, 128, 191, 172, 170, 234, 64, 255, 127, 255, 255, 255, 255, 255, 223, 0, 0, 168, 192, 0, 0, 128, 191, 172, 170, 234, 64, 255, 255, 255, 127, 255, 191, 0, 128)
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_8cghm")

[sub_resource type="ViewportTexture" id="ViewportTexture_qux5w"]
viewport_path = NodePath("PaintDrawer")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_p7rh0"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("3_3y5yl")
shader_parameter/ColorParameter = Color(1, 1, 1, 1)
shader_parameter/tex_frg_3 = SubResource("ViewportTexture_qux5w")

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_25uoa"]
sky_top_color = Color(0.243137, 0.45098, 0.721569, 1)
sky_horizon_color = Color(0.65098, 0.654902, 0.67451, 1)
ground_bottom_color = Color(0.235294, 0.180392, 1, 1)
ground_horizon_color = Color(0.650223, 0.653524, 0.675924, 1)
sun_angle_max = 50.32

[sub_resource type="Sky" id="Sky_52lsb"]
sky_material = SubResource("ProceduralSkyMaterial_25uoa")

[sub_resource type="Environment" id="Environment_mxboa"]
background_mode = 2
sky = SubResource("Sky_52lsb")
ambient_light_source = 3
reflected_light_source = 2
ssao_enabled = true
sdfgi_enabled = true
sdfgi_use_occlusion = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.01

[node name="SplatLevel" instance=ExtResource("1_2ejs3")]
script = ExtResource("2_5go2e")

[node name="Platform" parent="." index="0"]
transform = Transform3D(8, 0, 0, 0, 1, 0, 0, 0, 6, 0, 0, 0)
mesh = SubResource("ArrayMesh_kl8bf")
surface_material_override/0 = SubResource("ShaderMaterial_p7rh0")

[node name="StaticBody3D" parent="Platform" index="0"]
collision_layer = 4
collision_mask = 0

[node name="Player" parent="." index="1" instance=ExtResource("2_cy6o0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0.5, 19.5)

[node name="WorldEnvironment" type="WorldEnvironment" parent="." index="2"]
environment = SubResource("Environment_mxboa")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." index="3"]
transform = Transform3D(0.525917, 0.454975, -0.718616, 0.220092, 0.743321, 0.631691, 0.821566, -0.490378, 0.290789, 0, 3.24352, 20.1434)
light_color = Color(0.941176, 1, 1, 1)
shadow_enabled = true

[node name="PaintDrawer" type="SubViewport" parent="." index="4"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(2048, 2048)
render_target_clear_mode = 1
render_target_update_mode = 4
script = ExtResource("4_fj2ux")

[node name="Brush" type="Node2D" parent="PaintDrawer" index="0"]
script = ExtResource("5_xxwwn")
texture = ExtResource("6_b7aeq")
